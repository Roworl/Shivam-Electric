<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Customers - Shivam Electrical Admin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="bg-gray-50 font-inter">
    <!-- Sidebar -->
    <div
      id="sidebar"
      class="fixed left-0 top-0 w-64 h-full bg-white shadow-lg transform -translate-x-full lg:translate-x-0 transition-transform duration-300 z-50"
    >
      <div class="p-6 border-b border-gray-100">
        <div class="flex items-center space-x-3">
          <div
            class="w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center"
          >
            <i class="fas fa-bolt text-white"></i>
          </div>
          <div>
            <h1 class="text-lg font-bold text-gray-800">Shivam Electrical</h1>
            <p class="text-sm text-gray-500">Admin Panel</p>
          </div>
        </div>
      </div>

      <nav class="p-4 space-y-2">
        <div
          class="text-xs text-gray-400 font-semibold uppercase tracking-wider mb-3"
        >
          MAIN
        </div>

        <a
          href="index.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-tachometer-alt w-5"></i>
          <span>Dashboard</span>
        </a>

        <div
          class="text-xs text-gray-400 font-semibold uppercase tracking-wider mb-3 mt-6"
        >
          SERVICES
        </div>

        <a
          href="services.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-cogs w-5"></i>
          <span>Manage Services</span>
        </a>

        <a
          href="service-requests.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-clipboard-list w-5"></i>
          <span>Service Requests</span>
        </a>

        <a
          href="service-categories.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-tags w-5"></i>
          <span>Categories</span>
        </a>

        <div
          class="text-xs text-gray-400 font-semibold uppercase tracking-wider mb-3 mt-6"
        >
          CUSTOMERS
        </div>

        <a
          href="customers.html"
          class="nav-item active flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-users w-5"></i>
          <span>Customer List</span>
        </a>

        <a
          href="inquiries.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-envelope w-5"></i>
          <span>Inquiries</span>
        </a>

        <div
          class="text-xs text-gray-400 font-semibold uppercase tracking-wider mb-3 mt-6"
        >
          MANAGEMENT
        </div>

        <a
          href="technicians.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-user-cog w-5"></i>
          <span>Technicians</span>
        </a>

        <a
          href="cms.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-edit w-5"></i>
          <span>Content Management</span>
        </a>

        <a
          href="reports.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-chart-bar w-5"></i>
          <span>Reports & Analytics</span>
        </a>

        <a
          href="settings.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-cog w-5"></i>
          <span>Settings</span>
        </a>
      </nav>
    </div>

    <!-- Mobile Overlay -->
    <div
      id="overlay"
      class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden lg:hidden"
    ></div>

    <!-- Main Content -->
    <div class="lg:ml-64 min-h-screen">
      <!-- Top Header -->
      <header class="bg-white shadow-sm border-b border-gray-100 px-6 py-4">
        <div class="flex items-center justify-between">
          <div class="flex items-center space-x-4">
            <button
              id="menu-toggle"
              class="lg:hidden text-gray-600 hover:text-gray-800"
            >
              <i class="fas fa-bars text-xl"></i>
            </button>
            <div>
              <h2 class="text-2xl font-bold text-gray-800">
                Customer Management
              </h2>
              <p class="text-gray-500">
                Manage customer information and service history
              </p>
            </div>
          </div>

          <button id="addCustomerBtn" class="btn-primary">
            <i class="fas fa-plus mr-2"></i>Add Customer
          </button>
        </div>
      </header>

      <!-- Customers Content -->
      <main class="p-6">
        <!-- Stats Cards -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-6">
          <div class="bg-white rounded-xl p-6 shadow-sm">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-gray-500 text-sm font-medium">Total Customers</p>
                <p class="text-2xl font-bold text-gray-800 mt-1">1,284</p>
              </div>
              <div
                class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"
              >
                <i class="fas fa-users text-blue-600"></i>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-xl p-6 shadow-sm">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-gray-500 text-sm font-medium">
                  Active Customers
                </p>
                <p class="text-2xl font-bold text-emerald-600 mt-1">1,156</p>
              </div>
              <div
                class="w-10 h-10 bg-emerald-100 rounded-lg flex items-center justify-center"
              >
                <i class="fas fa-user-check text-emerald-600"></i>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-xl p-6 shadow-sm">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-gray-500 text-sm font-medium">New This Month</p>
                <p class="text-2xl font-bold text-blue-600 mt-1">42</p>
              </div>
              <div
                class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"
              >
                <i class="fas fa-user-plus text-blue-600"></i>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-xl p-6 shadow-sm">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-gray-500 text-sm font-medium">
                  Repeat Customers
                </p>
                <p class="text-2xl font-bold text-purple-600 mt-1">890</p>
              </div>
              <div
                class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center"
              >
                <i class="fas fa-redo text-purple-600"></i>
              </div>
            </div>
          </div>
        </div>

        <!-- Customers Table -->
        <div class="bg-white rounded-xl shadow-sm table-container">
          <div class="p-6 border-b border-gray-100">
            <div
              class="flex flex-col md:flex-row md:items-center justify-between space-y-4 md:space-y-0"
            >
              <div>
                <h3 class="text-lg font-semibold text-gray-800">
                  All Customers
                </h3>
                <p class="text-gray-500 text-sm">
                  Manage customer information and service history
                </p>
              </div>

              <div class="flex items-center space-x-4">
                <div class="relative">
                  <input
                    type="text"
                    placeholder="Search customers..."
                    class="form-input pl-10 pr-4 w-64"
                    id="searchCustomers"
                  />
                  <i
                    class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"
                  ></i>
                </div>

                <select class="form-input" id="statusFilter">
                  <option value="">All Status</option>
                  <option value="active">Active</option>
                  <option value="inactive">Inactive</option>
                </select>

                <button
                  class="px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors"
                >
                  <i class="fas fa-download mr-2"></i>Export
                </button>
              </div>
            </div>
          </div>

          <div class="overflow-x-auto">
            <table class="w-full">
              <thead class="table-header">
                <tr>
                  <th class="text-left py-4 px-6 font-medium text-gray-700">
                    Customer
                  </th>
                  <th class="text-left py-4 px-6 font-medium text-gray-700">
                    Contact
                  </th>
                  <th class="text-left py-4 px-6 font-medium text-gray-700">
                    Location
                  </th>
                  <th class="text-left py-4 px-6 font-medium text-gray-700">
                    Services Used
                  </th>
                  <th class="text-left py-4 px-6 font-medium text-gray-700">
                    Last Service
                  </th>
                  <th class="text-left py-4 px-6 font-medium text-gray-700">
                    Status
                  </th>
                  <th class="text-left py-4 px-6 font-medium text-gray-700">
                    Actions
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr class="table-row border-b border-gray-100">
                  <td class="py-4 px-6">
                    <div class="flex items-center space-x-3">
                      <div
                        class="w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center"
                      >
                        <span class="text-white font-medium text-sm">RK</span>
                      </div>
                      <div>
                        <p class="font-medium text-gray-800">Rajesh Kumar</p>
                        <p class="text-sm text-gray-500">Individual Customer</p>
                      </div>
                    </div>
                  </td>
                  <td class="py-4 px-6">
                    <div>
                      <p class="text-gray-800">+91 9876543210</p>
                      <p class="text-sm text-gray-500">rajesh@example.com</p>
                    </div>
                  </td>
                  <td class="py-4 px-6">
                    <p class="text-gray-800">Delhi</p>
                    <p class="text-sm text-gray-500">
                      Sector 8, Industrial Area
                    </p>
                  </td>
                  <td class="py-4 px-6">
                    <p class="text-gray-800 font-medium">5</p>
                    <p class="text-sm text-gray-500">
                      Motor Repair, Electrical
                    </p>
                  </td>
                  <td class="py-4 px-6">
                    <p class="text-gray-800">Dec 15, 2024</p>
                    <p class="text-sm text-gray-500">Motor Repair</p>
                  </td>
                  <td class="py-4 px-6">
                    <span
                      class="px-3 py-1 bg-emerald-100 text-emerald-600 text-sm rounded-full"
                      >Active</span
                    >
                  </td>
                  <td class="py-4 px-6">
                    <div class="flex items-center space-x-2">
                      <button
                        class="text-blue-600 hover:text-blue-800 view-customer"
                        data-id="1"
                      >
                        <i class="fas fa-eye"></i>
                      </button>
                      <button
                        class="text-emerald-600 hover:text-emerald-800 edit-customer"
                        data-id="1"
                      >
                        <i class="fas fa-edit"></i>
                      </button>
                      <button
                        class="text-purple-600 hover:text-purple-800 view-history"
                        data-id="1"
                      >
                        <i class="fas fa-history"></i>
                      </button>
                      <button
                        class="text-red-600 hover:text-red-800 delete-customer"
                        data-id="1"
                      >
                        <i class="fas fa-trash"></i>
                      </button>
                    </div>
                  </td>
                </tr>

                <tr class="table-row border-b border-gray-100">
                  <td class="py-4 px-6">
                    <div class="flex items-center space-x-3">
                      <div
                        class="w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-full flex items-center justify-center"
                      >
                        <span class="text-white font-medium text-sm">AI</span>
                      </div>
                      <div>
                        <p class="font-medium text-gray-800">Amit Industries</p>
                        <p class="text-sm text-gray-500">Business Customer</p>
                      </div>
                    </div>
                  </td>
                  <td class="py-4 px-6">
                    <div>
                      <p class="text-gray-800">+91 9123456789</p>
                      <p class="text-sm text-gray-500">amit@industries.com</p>
                    </div>
                  </td>
                  <td class="py-4 px-6">
                    <p class="text-gray-800">Mumbai</p>
                    <p class="text-sm text-gray-500">Andheri East</p>
                  </td>
                  <td class="py-4 px-6">
                    <p class="text-gray-800 font-medium">12</p>
                    <p class="text-sm text-gray-500">Transformer, Motor</p>
                  </td>
                  <td class="py-4 px-6">
                    <p class="text-gray-800">Dec 14, 2024</p>
                    <p class="text-sm text-gray-500">Transformer Service</p>
                  </td>
                  <td class="py-4 px-6">
                    <span
                      class="px-3 py-1 bg-emerald-100 text-emerald-600 text-sm rounded-full"
                      >Active</span
                    >
                  </td>
                  <td class="py-4 px-6">
                    <div class="flex items-center space-x-2">
                      <button
                        class="text-blue-600 hover:text-blue-800 view-customer"
                        data-id="2"
                      >
                        <i class="fas fa-eye"></i>
                      </button>
                      <button
                        class="text-emerald-600 hover:text-emerald-800 edit-customer"
                        data-id="2"
                      >
                        <i class="fas fa-edit"></i>
                      </button>
                      <button
                        class="text-purple-600 hover:text-purple-800 view-history"
                        data-id="2"
                      >
                        <i class="fas fa-history"></i>
                      </button>
                      <button
                        class="text-red-600 hover:text-red-800 delete-customer"
                        data-id="2"
                      >
                        <i class="fas fa-trash"></i>
                      </button>
                    </div>
                  </td>
                </tr>

                <tr class="table-row border-b border-gray-100">
                  <td class="py-4 px-6">
                    <div class="flex items-center space-x-3">
                      <div
                        class="w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center"
                      >
                        <span class="text-white font-medium text-sm">SE</span>
                      </div>
                      <div>
                        <p class="font-medium text-gray-800">
                          Singh Engineering
                        </p>
                        <p class="text-sm text-gray-500">Business Customer</p>
                      </div>
                    </div>
                  </td>
                  <td class="py-4 px-6">
                    <div>
                      <p class="text-gray-800">+91 9876012345</p>
                      <p class="text-sm text-gray-500">singh@engineering.com</p>
                    </div>
                  </td>
                  <td class="py-4 px-6">
                    <p class="text-gray-800">Pune</p>
                    <p class="text-sm text-gray-500">Pimpri-Chinchwad</p>
                  </td>
                  <td class="py-4 px-6">
                    <p class="text-gray-800 font-medium">8</p>
                    <p class="text-sm text-gray-500">Compressor, Electrical</p>
                  </td>
                  <td class="py-4 px-6">
                    <p class="text-gray-800">Dec 13, 2024</p>
                    <p class="text-sm text-gray-500">Compressor Maintenance</p>
                  </td>
                  <td class="py-4 px-6">
                    <span
                      class="px-3 py-1 bg-emerald-100 text-emerald-600 text-sm rounded-full"
                      >Active</span
                    >
                  </td>
                  <td class="py-4 px-6">
                    <div class="flex items-center space-x-2">
                      <button
                        class="text-blue-600 hover:text-blue-800 view-customer"
                        data-id="3"
                      >
                        <i class="fas fa-eye"></i>
                      </button>
                      <button
                        class="text-emerald-600 hover:text-emerald-800 edit-customer"
                        data-id="3"
                      >
                        <i class="fas fa-edit"></i>
                      </button>
                      <button
                        class="text-purple-600 hover:text-purple-800 view-history"
                        data-id="3"
                      >
                        <i class="fas fa-history"></i>
                      </button>
                      <button
                        class="text-red-600 hover:text-red-800 delete-customer"
                        data-id="3"
                      >
                        <i class="fas fa-trash"></i>
                      </button>
                    </div>
                  </td>
                </tr>

                <tr class="table-row border-b border-gray-100">
                  <td class="py-4 px-6">
                    <div class="flex items-center space-x-3">
                      <div
                        class="w-10 h-10 bg-gradient-to-r from-amber-500 to-orange-600 rounded-full flex items-center justify-center"
                      >
                        <span class="text-white font-medium text-sm">PM</span>
                      </div>
                      <div>
                        <p class="font-medium text-gray-800">
                          Priya Manufactures
                        </p>
                        <p class="text-sm text-gray-500">Business Customer</p>
                      </div>
                    </div>
                  </td>
                  <td class="py-4 px-6">
                    <div>
                      <p class="text-gray-800">+91 9998887777</p>
                      <p class="text-sm text-gray-500">
                        priya@manufactures.com
                      </p>
                    </div>
                  </td>
                  <td class="py-4 px-6">
                    <p class="text-gray-800">Chennai</p>
                    <p class="text-sm text-gray-500">
                      Ambattur Industrial Estate
                    </p>
                  </td>
                  <td class="py-4 px-6">
                    <p class="text-gray-800 font-medium">6</p>
                    <p class="text-sm text-gray-500">
                      Electrical, Installation
                    </p>
                  </td>
                  <td class="py-4 px-6">
                    <p class="text-gray-800">Dec 12, 2024</p>
                    <p class="text-sm text-gray-500">Panel Installation</p>
                  </td>
                  <td class="py-4 px-6">
                    <span
                      class="px-3 py-1 bg-emerald-100 text-emerald-600 text-sm rounded-full"
                      >Active</span
                    >
                  </td>
                  <td class="py-4 px-6">
                    <div class="flex items-center space-x-2">
                      <button
                        class="text-blue-600 hover:text-blue-800 view-customer"
                        data-id="4"
                      >
                        <i class="fas fa-eye"></i>
                      </button>
                      <button
                        class="text-emerald-600 hover:text-emerald-800 edit-customer"
                        data-id="4"
                      >
                        <i class="fas fa-edit"></i>
                      </button>
                      <button
                        class="text-purple-600 hover:text-purple-800 view-history"
                        data-id="4"
                      >
                        <i class="fas fa-history"></i>
                      </button>
                      <button
                        class="text-red-600 hover:text-red-800 delete-customer"
                        data-id="4"
                      >
                        <i class="fas fa-trash"></i>
                      </button>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Pagination -->
          <div
            class="px-6 py-4 border-t border-gray-100 flex items-center justify-between"
          >
            <div class="text-sm text-gray-500">
              Showing 1 to 4 of 1,284 results
            </div>
            <div class="flex items-center space-x-2">
              <button
                class="px-3 py-2 text-sm text-gray-500 hover:text-gray-700 border border-gray-200 rounded-lg"
              >
                Previous
              </button>
              <button
                class="px-3 py-2 text-sm bg-blue-600 text-white rounded-lg"
              >
                1
              </button>
              <button
                class="px-3 py-2 text-sm text-gray-500 hover:text-gray-700 border border-gray-200 rounded-lg"
              >
                2
              </button>
              <button
                class="px-3 py-2 text-sm text-gray-500 hover:text-gray-700 border border-gray-200 rounded-lg"
              >
                3
              </button>
              <button
                class="px-3 py-2 text-sm text-gray-500 hover:text-gray-700 border border-gray-200 rounded-lg"
              >
                Next
              </button>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Customer Modal -->
    <div
      id="customerModal"
      class="modal fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4"
    >
      <div
        class="modal-content bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"
      >
        <div class="p-6 border-b border-gray-100">
          <div class="flex items-center justify-between">
            <h3
              class="text-xl font-semibold text-gray-800"
              id="customerModalTitle"
            >
              Add New Customer
            </h3>
            <button
              id="closeCustomerModal"
              class="text-gray-400 hover:text-gray-600"
            >
              <i class="fas fa-times text-xl"></i>
            </button>
          </div>
        </div>

        <form id="customerForm" class="p-6 space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Customer Name *</label
              >
              <input
                type="text"
                id="customerName"
                class="form-input w-full"
                placeholder="Enter customer name"
                required
              />
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Customer Type *</label
              >
              <select id="customerType" class="form-input w-full" required>
                <option value="">Select type</option>
                <option value="individual">Individual</option>
                <option value="business">Business</option>
              </select>
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Phone Number *</label
              >
              <input
                type="tel"
                id="customerPhone"
                class="form-input w-full"
                placeholder="+91 9876543210"
                required
              />
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Email</label
              >
              <input
                type="email"
                id="customerEmail"
                class="form-input w-full"
                placeholder="customer@example.com"
              />
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
              >Address *</label
            >
            <textarea
              id="customerAddress"
              rows="3"
              class="form-input w-full"
              placeholder="Enter customer address"
              required
            ></textarea>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >City</label
              >
              <input
                type="text"
                id="customerCity"
                class="form-input w-full"
                placeholder="Enter city"
              />
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Status</label
              >
              <select id="customerStatus" class="form-input w-full">
                <option value="active">Active</option>
                <option value="inactive">Inactive</option>
              </select>
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
              >Notes</label
            >
            <textarea
              id="customerNotes"
              rows="3"
              class="form-input w-full"
              placeholder="Any additional notes about the customer"
            ></textarea>
          </div>

          <div class="flex justify-end space-x-4 pt-6 border-t border-gray-100">
            <button
              type="button"
              id="cancelCustomerModal"
              class="px-4 py-2 text-gray-600 hover:text-gray-800"
            >
              Cancel
            </button>
            <button type="submit" class="btn-primary">Save Customer</button>
          </div>
        </form>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Initialize sidebar
        const sidebar = document.getElementById("sidebar");
        const overlay = document.getElementById("overlay");
        const menuToggle = document.getElementById("menu-toggle");

        menuToggle?.addEventListener("click", () => {
          sidebar.classList.toggle("-translate-x-full");
          overlay.classList.toggle("hidden");
        });

        overlay?.addEventListener("click", () => {
          sidebar.classList.add("-translate-x-full");
          overlay.classList.add("hidden");
        });

        // Customer management functionality
        const addCustomerBtn = document.getElementById("addCustomerBtn");
        const customerModal = document.getElementById("customerModal");
        const closeCustomerModal =
          document.getElementById("closeCustomerModal");
        const cancelCustomerModal = document.getElementById(
          "cancelCustomerModal"
        );
        const customerForm = document.getElementById("customerForm");
        const customerModalTitle =
          document.getElementById("customerModalTitle");

        let editingCustomerId = null;

        // Open modal for adding customer
        addCustomerBtn.addEventListener("click", () => {
          editingCustomerId = null;
          customerModalTitle.textContent = "Add New Customer";
          customerForm.reset();
          customerModal.classList.remove("hidden");
        });

        // Close modal
        [closeCustomerModal, cancelCustomerModal].forEach((btn) => {
          btn.addEventListener("click", () => {
            customerModal.classList.add("hidden");
          });
        });

        // Close modal when clicking outside
        customerModal.addEventListener("click", (e) => {
          if (e.target === customerModal) {
            customerModal.classList.add("hidden");
          }
        });

        // View customer buttons
        document.querySelectorAll(".view-customer").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            const customerId = e.target.closest("button").dataset.id;
            // Open customer details modal (would implement separately)
            alert("Customer details view would open here");
          });
        });

        // Edit customer buttons
        document.querySelectorAll(".edit-customer").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            editingCustomerId = e.target.closest("button").dataset.id;
            customerModalTitle.textContent = "Edit Customer";

            // Pre-fill form with customer data (in real app, fetch from API)
            document.getElementById("customerName").value = "Rajesh Kumar";
            document.getElementById("customerType").value = "individual";
            document.getElementById("customerPhone").value = "+91 9876543210";
            document.getElementById("customerEmail").value =
              "rajesh@example.com";
            document.getElementById("customerAddress").value =
              "123 Industrial Area, Sector 8";
            document.getElementById("customerCity").value = "Delhi";
            document.getElementById("customerStatus").value = "active";

            customerModal.classList.remove("hidden");
          });
        });

        // View history buttons
        document.querySelectorAll(".view-history").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            const customerId = e.target.closest("button").dataset.id;
            // Open service history modal (would implement separately)
            alert("Service history view would open here");
          });
        });

        // Delete customer buttons
        document.querySelectorAll(".delete-customer").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            const customerId = e.target.closest("button").dataset.id;
            if (confirm("Are you sure you want to delete this customer?")) {
              // In real app, make API call to delete
              alert("Customer deleted successfully!");
              e.target.closest("tr").remove();
            }
          });
        });

        // Form submission
        customerForm.addEventListener("submit", (e) => {
          e.preventDefault();

          const formData = new FormData(customerForm);
          const customerData = Object.fromEntries(formData);

          // In real app, make API call to save/update customer
          console.log("Customer data:", customerData);

          alert(
            editingCustomerId
              ? "Customer updated successfully!"
              : "Customer added successfully!"
          );
          customerModal.classList.add("hidden");

          // In real app, refresh the customers table
        });

        // Search and filter functionality
        const searchInput = document.getElementById("searchCustomers");
        const statusFilter = document.getElementById("statusFilter");

        [searchInput, statusFilter].forEach((element) => {
          element.addEventListener("input", filterCustomers);
        });

        function filterCustomers() {
          const searchTerm = searchInput.value.toLowerCase();
          const selectedStatus = statusFilter.value.toLowerCase();
          const rows = document.querySelectorAll(".table-row");

          rows.forEach((row) => {
            const customerName = row
              .querySelector("td:first-child")
              .textContent.toLowerCase();
            const status = row
              .querySelector("td:nth-child(6) span")
              .textContent.toLowerCase();

            const matchesSearch = customerName.includes(searchTerm);
            const matchesStatus =
              !selectedStatus || status.includes(selectedStatus);

            if (matchesSearch && matchesStatus) {
              row.style.display = "table-row";
            } else {
              row.style.display = "none";
            }
          });
        }
      });
    </script>
  </body>
</html>
