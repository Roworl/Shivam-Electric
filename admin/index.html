<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shivam Electrical - Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles.css" />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

      .font-inter {
        font-family: "Inter", sans-serif;
      }

      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 6px;
      }

      ::-webkit-scrollbar-track {
        background: #f1f5f9;
      }

      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 3px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }

      /* Smooth animations */
      * {
        transition: all 0.2s ease;
      }

      /* Active navigation item */
      .nav-item.active {
        background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
        color: white !important;
      }

      .nav-item.active i {
        color: white !important;
      }

      /* Card hover effects */
      .card-hover {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .card-hover:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      }

      /* Button styles */
      .btn-primary {
        background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        font-weight: 500;
        transition: all 0.3s ease;
      }

      .btn-primary:hover {
        transform: translateY(-1px);
        box-shadow: 0 5px 15px rgba(79, 70, 229, 0.3);
      }

      /* Status badges */
      .status-pending {
        background: #fef3c7;
        color: #d97706;
      }

      .status-progress {
        background: #dbeafe;
        color: #2563eb;
      }

      .status-completed {
        background: #d1fae5;
        color: #059669;
      }

      /* Glassmorphism effect */
      .glass {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      /* Loading animation */
      .loading {
        position: relative;
        overflow: hidden;
      }

      .loading::after {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.4),
          transparent
        );
        animation: loading 1.5s infinite;
      }

      @keyframes loading {
        0% {
          left: -100%;
        }
        100% {
          left: 100%;
        }
      }

      /* Responsive improvements */
      @media (max-width: 768px) {
        #sidebar {
          width: 280px;
        }
      }

      /* Custom checkbox */
      .custom-checkbox {
        appearance: none;
        width: 18px;
        height: 18px;
        border: 2px solid #d1d5db;
        border-radius: 4px;
        background: white;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .custom-checkbox:checked {
        background: #4f46e5;
        border-color: #4f46e5;
      }

      .custom-checkbox:checked::after {
        content: "✓";
        color: white;
        font-size: 12px;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
      }

      /* Table styles */
      .table-container {
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }

      .table-header {
        background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      }

      .table-row:hover {
        background: #f8fafc;
      }

      /* Form styles */
      .form-input {
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        padding: 0.75rem;
        transition: border-color 0.2s ease, box-shadow 0.2s ease;
      }

      .form-input:focus {
        border-color: #4f46e5;
        box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        outline: none;
      }

      /* Modal styles */
      .modal {
        backdrop-filter: blur(5px);
      }

      .modal-content {
        animation: modalSlideIn 0.3s ease;
      }

      @keyframes modalSlideIn {
        from {
          opacity: 0;
          transform: translateY(-20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Notification styles */
      .notification {
        animation: notificationSlideIn 0.3s ease;
      }

      @keyframes notificationSlideIn {
        from {
          opacity: 0;
          transform: translateX(100%);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      /* Chart container */
      .chart-container {
        position: relative;
        height: 300px;
        width: 100%;
      }
    </style>
  </head>
  <body class="bg-gray-50 font-inter">
    <!-- Sidebar -->
    <div
      id="sidebar"
      class="fixed left-0 top-0 w-64 h-full bg-white shadow-lg transform -translate-x-full lg:translate-x-0 transition-transform duration-300 z-50"
    >
      <div class="p-6 border-b border-gray-100">
        <div class="flex items-center space-x-3">
          <div
            class="w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center"
          >
            <i class="fas fa-bolt text-white"></i>
          </div>
          <div>
            <h1 class="text-lg font-bold text-gray-800">Shivam Electrical</h1>
            <p class="text-sm text-gray-500">Admin Panel</p>
          </div>
        </div>
      </div>

      <nav class="p-4 space-y-2">
        <div
          class="text-xs text-gray-400 font-semibold uppercase tracking-wider mb-3"
        >
          MAIN
        </div>

        <a
          href="index.html"
          class="nav-item active flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-tachometer-alt w-5"></i>
          <span>Dashboard</span>
        </a>

        <div
          class="text-xs text-gray-400 font-semibold uppercase tracking-wider mb-3 mt-6"
        >
          SERVICES
        </div>

        <a
          href="services.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-cogs w-5"></i>
          <span>Manage Services</span>
        </a>

        <a
          href="service-requests.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-clipboard-list w-5"></i>
          <span>Service Requests</span>
        </a>

        <a
          href="service-categories.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-tags w-5"></i>
          <span>Categories</span>
        </a>

        <div
          class="text-xs text-gray-400 font-semibold uppercase tracking-wider mb-3 mt-6"
        >
          CUSTOMERS
        </div>

        <a
          href="customers.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-users w-5"></i>
          <span>Customer List</span>
        </a>

        <a
          href="inquiries.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-envelope w-5"></i>
          <span>Inquiries</span>
        </a>

        <div
          class="text-xs text-gray-400 font-semibold uppercase tracking-wider mb-3 mt-6"
        >
          MANAGEMENT
        </div>

        <a
          href="technicians.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-user-cog w-5"></i>
          <span>Technicians</span>
        </a>

        <a
          href="cms.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-edit w-5"></i>
          <span>Content Management</span>
        </a>

        <a
          href="reports.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-chart-bar w-5"></i>
          <span>Reports & Analytics</span>
        </a>

        <a
          href="settings.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-cog w-5"></i>
          <span>Settings</span>
        </a>
      </nav>
    </div>

    <!-- Mobile Overlay -->
    <div
      id="overlay"
      class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden lg:hidden"
    ></div>

    <!-- Main Content -->
    <div class="lg:ml-64 min-h-screen">
      <!-- Top Header -->
      <header class="bg-white shadow-sm border-b border-gray-100 px-6 py-4">
        <div class="flex items-center justify-between">
          <div class="flex items-center space-x-4">
            <button
              id="menu-toggle"
              class="lg:hidden text-gray-600 hover:text-gray-800"
            >
              <i class="fas fa-bars text-xl"></i>
            </button>
            <div>
              <h2 class="text-2xl font-bold text-gray-800">Dashboard</h2>
              <p class="text-gray-500">
                Welcome back! Here's what's happening today.
              </p>
            </div>
          </div>

          <div class="flex items-center space-x-4">
            <button class="p-2 text-gray-400 hover:text-gray-600 relative">
              <i class="fas fa-bell text-xl"></i>
              <span
                class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"
              ></span>
            </button>

            <div class="flex items-center space-x-3">
              <div class="text-right">
                <p class="text-sm font-medium text-gray-800">Admin User</p>
                <p class="text-xs text-gray-500">Super Admin</p>
              </div>
              <img
                src="https://images.pexels.com/photos/3785079/pexels-photo-3785079.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop"
                alt="Profile"
                class="w-10 h-10 rounded-full object-cover"
              />
            </div>
          </div>
        </div>
      </header>

      <!-- Dashboard Content -->
      <main class="p-6">
        <!-- Stats Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
          <div
            class="bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg hover:shadow-xl transition-shadow"
          >
            <div class="flex items-center justify-between">
              <div>
                <p class="text-blue-100 text-sm font-medium">Total Requests</p>
                <p class="text-3xl font-bold mt-1" id="totalRequests">248</p>
                <p class="text-blue-200 text-xs mt-2">
                  <i class="fas fa-arrow-up"></i> +12% from last month
                </p>
              </div>
              <div
                class="w-12 h-12 bg-blue-400 bg-opacity-30 rounded-lg flex items-center justify-center"
              >
                <i class="fas fa-clipboard-list text-xl"></i>
              </div>
            </div>
          </div>

          <div
            class="bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl p-6 text-white shadow-lg hover:shadow-xl transition-shadow"
          >
            <div class="flex items-center justify-between">
              <div>
                <p class="text-emerald-100 text-sm font-medium">Completed</p>
                <p class="text-3xl font-bold mt-1" id="completedRequests">
                  186
                </p>
                <p class="text-emerald-200 text-xs mt-2">
                  <i class="fas fa-arrow-up"></i> +8% completion rate
                </p>
              </div>
              <div
                class="w-12 h-12 bg-emerald-400 bg-opacity-30 rounded-lg flex items-center justify-center"
              >
                <i class="fas fa-check-circle text-xl"></i>
              </div>
            </div>
          </div>

          <div
            class="bg-gradient-to-br from-amber-500 to-amber-600 rounded-xl p-6 text-white shadow-lg hover:shadow-xl transition-shadow"
          >
            <div class="flex items-center justify-between">
              <div>
                <p class="text-amber-100 text-sm font-medium">
                  Total Customers
                </p>
                <p class="text-3xl font-bold mt-1" id="totalCustomers">1,284</p>
                <p class="text-amber-200 text-xs mt-2">
                  <i class="fas fa-arrow-up"></i> +15 new this week
                </p>
              </div>
              <div
                class="w-12 h-12 bg-amber-400 bg-opacity-30 rounded-lg flex items-center justify-center"
              >
                <i class="fas fa-users text-xl"></i>
              </div>
            </div>
          </div>

          <div
            class="bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg hover:shadow-xl transition-shadow"
          >
            <div class="flex items-center justify-between">
              <div>
                <p class="text-purple-100 text-sm font-medium">
                  Active Technicians
                </p>
                <p class="text-3xl font-bold mt-1" id="activeTechnicians">12</p>
                <p class="text-purple-200 text-xs mt-2">
                  <i class="fas fa-user-plus"></i> +2 added recently
                </p>
              </div>
              <div
                class="w-12 h-12 bg-purple-400 bg-opacity-30 rounded-lg flex items-center justify-center"
              >
                <i class="fas fa-user-hard-hat text-xl"></i>
              </div>
            </div>
          </div>
        </div>

        <!-- Charts and Recent Activity -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
          <!-- Service Requests Chart -->
          <div class="bg-white rounded-xl shadow-sm p-6">
            <div class="flex items-center justify-between mb-6">
              <div>
                <h3 class="text-lg font-semibold text-gray-800">
                  Service Requests Overview
                </h3>
                <p class="text-gray-500 text-sm">Monthly request trends</p>
              </div>
              <div class="flex items-center space-x-2">
                <button
                  class="px-3 py-1 text-xs bg-blue-100 text-blue-600 rounded-md"
                >
                  Month
                </button>
                <button
                  class="px-3 py-1 text-xs text-gray-500 hover:bg-gray-100 rounded-md"
                >
                  Week
                </button>
              </div>
            </div>
            <div style="height: 300px; width: 100%">
              <canvas id="requestsChart"></canvas>
            </div>
          </div>

          <!-- Recent Service Requests -->
          <div class="bg-white rounded-xl shadow-sm p-6">
            <div class="flex items-center justify-between mb-6">
              <h3 class="text-lg font-semibold text-gray-800">
                Recent Requests
              </h3>
              <a
                href="service-requests.html"
                class="text-blue-600 text-sm hover:text-blue-800"
                >View All</a
              >
            </div>

            <div class="space-y-4">
              <div
                class="flex items-center space-x-4 p-3 bg-gray-50 rounded-lg"
              >
                <div
                  class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"
                >
                  <i class="fas fa-cog text-blue-600"></i>
                </div>
                <div class="flex-1">
                  <p class="font-medium text-gray-800">Motor Repair - 5HP</p>
                  <p class="text-sm text-gray-500">
                    Rajesh Kumar • #REQ-2024-001
                  </p>
                </div>
                <span
                  class="px-2 py-1 bg-amber-100 text-amber-600 text-xs rounded-full"
                  >Pending</span
                >
              </div>

              <div
                class="flex items-center space-x-4 p-3 bg-gray-50 rounded-lg"
              >
                <div
                  class="w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center"
                >
                  <i class="fas fa-plug text-emerald-600"></i>
                </div>
                <div class="flex-1">
                  <p class="font-medium text-gray-800">Transformer Service</p>
                  <p class="text-sm text-gray-500">
                    Amit Industries • #REQ-2024-002
                  </p>
                </div>
                <span
                  class="px-2 py-1 bg-blue-100 text-blue-600 text-xs rounded-full"
                  >In Progress</span
                >
              </div>

              <div
                class="flex items-center space-x-4 p-3 bg-gray-50 rounded-lg"
              >
                <div
                  class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center"
                >
                  <i class="fas fa-tools text-purple-600"></i>
                </div>
                <div class="flex-1">
                  <p class="font-medium text-gray-800">
                    Compressor Maintenance
                  </p>
                  <p class="text-sm text-gray-500">
                    Singh Engineering • #REQ-2024-003
                  </p>
                </div>
                <span
                  class="px-2 py-1 bg-emerald-100 text-emerald-600 text-xs rounded-full"
                  >Completed</span
                >
              </div>
            </div>
          </div>
        </div>

        <!-- Service Performance and Top Technicians -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <!-- Most Requested Services -->
          <div class="bg-white rounded-xl shadow-sm p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-6">
              Most Requested Services
            </h3>

            <div class="space-y-4">
              <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                  <div
                    class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center"
                  >
                    <i class="fas fa-cog text-blue-600 text-sm"></i>
                  </div>
                  <span class="text-gray-700">Motor Repair</span>
                </div>
                <div class="flex items-center space-x-3">
                  <div class="w-32 bg-gray-200 rounded-full h-2">
                    <div
                      class="bg-blue-600 h-2 rounded-full"
                      style="width: 85%"
                    ></div>
                  </div>
                  <span class="text-sm text-gray-500">85%</span>
                </div>
              </div>

              <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                  <div
                    class="w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center"
                  >
                    <i class="fas fa-plug text-emerald-600 text-sm"></i>
                  </div>
                  <span class="text-gray-700">Transformer Service</span>
                </div>
                <div class="flex items-center space-x-3">
                  <div class="w-32 bg-gray-200 rounded-full h-2">
                    <div
                      class="bg-emerald-600 h-2 rounded-full"
                      style="width: 72%"
                    ></div>
                  </div>
                  <span class="text-sm text-gray-500">72%</span>
                </div>
              </div>

              <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                  <div
                    class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center"
                  >
                    <i class="fas fa-tools text-purple-600 text-sm"></i>
                  </div>
                  <span class="text-gray-700">Compressor Repair</span>
                </div>
                <div class="flex items-center space-x-3">
                  <div class="w-32 bg-gray-200 rounded-full h-2">
                    <div
                      class="bg-purple-600 h-2 rounded-full"
                      style="width: 58%"
                    ></div>
                  </div>
                  <span class="text-sm text-gray-500">58%</span>
                </div>
              </div>

              <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                  <div
                    class="w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center"
                  >
                    <i class="fas fa-bolt text-amber-600 text-sm"></i>
                  </div>
                  <span class="text-gray-700">Electrical Installation</span>
                </div>
                <div class="flex items-center space-x-3">
                  <div class="w-32 bg-gray-200 rounded-full h-2">
                    <div
                      class="bg-amber-600 h-2 rounded-full"
                      style="width: 45%"
                    ></div>
                  </div>
                  <span class="text-sm text-gray-500">45%</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Top Technicians -->
          <div class="bg-white rounded-xl shadow-sm p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-6">
              Top Performing Technicians
            </h3>

            <div class="space-y-4">
              <div
                class="flex items-center space-x-4 p-3 bg-gray-50 rounded-lg"
              >
                <img
                  src="https://images.pexels.com/photos/3785079/pexels-photo-3785079.jpeg?auto=compress&cs=tinysrgb&w=60&h=60&fit=crop"
                  alt="Technician"
                  class="w-12 h-12 rounded-full object-cover"
                />
                <div class="flex-1">
                  <p class="font-medium text-gray-800">Sunil Joshi</p>
                  <p class="text-sm text-gray-500">
                    Senior Technician • 28 Jobs Completed
                  </p>
                </div>
                <div class="text-right">
                  <p class="text-sm font-medium text-emerald-600">
                    98% Success Rate
                  </p>
                  <div class="flex text-amber-400 text-xs mt-1">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                  </div>
                </div>
              </div>

              <div
                class="flex items-center space-x-4 p-3 bg-gray-50 rounded-lg"
              >
                <img
                  src="https://images.pexels.com/photos/3756679/pexels-photo-3756679.jpeg?auto=compress&cs=tinysrgb&w=60&h=60&fit=crop"
                  alt="Technician"
                  class="w-12 h-12 rounded-full object-cover"
                />
                <div class="flex-1">
                  <p class="font-medium text-gray-800">Rahul Sharma</p>
                  <p class="text-sm text-gray-500">
                    Motor Specialist • 24 Jobs Completed
                  </p>
                </div>
                <div class="text-right">
                  <p class="text-sm font-medium text-emerald-600">
                    95% Success Rate
                  </p>
                  <div class="flex text-amber-400 text-xs mt-1">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                  </div>
                </div>
              </div>

              <div
                class="flex items-center space-x-4 p-3 bg-gray-50 rounded-lg"
              >
                <img
                  src="https://images.pexels.com/photos/3748221/pexels-photo-3748221.jpeg?auto=compress&cs=tinysrgb&w=60&h=60&fit=crop"
                  alt="Technician"
                  class="w-12 h-12 rounded-full object-cover"
                />
                <div class="flex-1">
                  <p class="font-medium text-gray-800">Amit Kumar</p>
                  <p class="text-sm text-gray-500">
                    Electrical Engineer • 22 Jobs Completed
                  </p>
                </div>
                <div class="text-right">
                  <p class="text-sm font-medium text-emerald-600">
                    92% Success Rate
                  </p>
                  <div class="flex text-amber-400 text-xs mt-1">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star-half-alt"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script>
      // Global variables
      let currentUser = {
        name: "Admin User",
        role: "Super Admin",
        avatar:
          "https://images.pexels.com/photos/3785079/pexels-photo-3785079.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop",
      };

      // DOM elements
      const sidebar = document.getElementById("sidebar");
      const overlay = document.getElementById("overlay");
      const menuToggle = document.getElementById("menu-toggle");

      // Initialize app
      document.addEventListener("DOMContentLoaded", function () {
        initializeSidebar();
        initializeCharts();
        initializeAnimations();
        loadDashboardData();
      });

      // Sidebar functionality
      function initializeSidebar() {
        // Menu toggle for mobile
        menuToggle?.addEventListener("click", toggleSidebar);
        overlay?.addEventListener("click", closeSidebar);

        // Close sidebar when clicking on nav items (mobile)
        const navItems = document.querySelectorAll(".nav-item");
        navItems.forEach((item) => {
          item.addEventListener("click", () => {
            if (window.innerWidth < 1024) {
              closeSidebar();
            }
          });
        });

        // Handle window resize
        window.addEventListener("resize", () => {
          if (window.innerWidth >= 1024) {
            closeSidebar();
          }
        });
      }

      function toggleSidebar() {
        sidebar.classList.toggle("-translate-x-full");
        overlay.classList.toggle("hidden");
      }

      function closeSidebar() {
        sidebar.classList.add("-translate-x-full");
        overlay.classList.add("hidden");
      }

      // Chart initialization
      function initializeCharts() {
        // Service Requests Chart
        const requestsCtx = document.getElementById("requestsChart");
        if (requestsCtx) {
          new Chart(requestsCtx, {
            type: "line",
            data: {
              labels: [
                "Jan",
                "Feb",
                "Mar",
                "Apr",
                "May",
                "Jun",
                "Jul",
                "Aug",
                "Sep",
                "Oct",
                "Nov",
                "Dec",
              ],
              datasets: [
                {
                  label: "Service Requests",
                  data: [65, 78, 85, 92, 88, 95, 102, 98, 105, 112, 108, 115],
                  borderColor: "#4f46e5",
                  backgroundColor: "rgba(79, 70, 229, 0.1)",
                  borderWidth: 3,
                  fill: true,
                  tension: 0.4,
                  pointBackgroundColor: "#4f46e5",
                  pointBorderColor: "#ffffff",
                  pointBorderWidth: 2,
                  pointRadius: 6,
                  pointHoverRadius: 8,
                },
              ],
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                legend: {
                  display: false,
                },
              },
              scales: {
                y: {
                  beginAtZero: true,
                  grid: {
                    color: "#f1f5f9",
                  },
                  ticks: {
                    color: "#64748b",
                  },
                },
                x: {
                  grid: {
                    display: false,
                  },
                  ticks: {
                    color: "#64748b",
                  },
                },
              },
              elements: {
                point: {
                  hoverBackgroundColor: "#4f46e5",
                },
              },
            },
          });
        }
      }

      // Animation initialization
      function initializeAnimations() {
        // Animate stats on load
        animateStats();

        // Add intersection observer for scroll animations
        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("animate-fadeInUp");
            }
          });
        });

        document.querySelectorAll(".card-hover").forEach((card) => {
          observer.observe(card);
        });
      }

      // Stats animation
      function animateStats() {
        const stats = [
          { id: "totalRequests", target: 248 },
          { id: "completedRequests", target: 186 },
          { id: "totalCustomers", target: 1284 },
          { id: "activeTechnicians", target: 12 },
        ];

        stats.forEach((stat) => {
          const element = document.getElementById(stat.id);
          if (element) {
            animateNumber(element, 0, stat.target, 2000);
          }
        });
      }

      function animateNumber(element, start, end, duration) {
        const startTime = Date.now();
        const range = end - start;

        function update() {
          const now = Date.now();
          const progress = Math.min((now - startTime) / duration, 1);
          const value = Math.floor(start + range * progress);

          element.textContent = value.toLocaleString();

          if (progress < 1) {
            requestAnimationFrame(update);
          }
        }

        requestAnimationFrame(update);
      }

      // Dashboard data loading
      function loadDashboardData() {
        // Simulate loading data
        setTimeout(() => {
          updateRecentRequests();
          updateNotifications();
        }, 1000);
      }

      function updateRecentRequests() {
        // This would typically fetch from an API
        console.log("Recent requests updated");
      }

      function updateNotifications() {
        // This would typically check for new notifications
        console.log("Notifications updated");
      }

      // Utility functions
      function showNotification(message, type = "success") {
        const notification = document.createElement("div");
        notification.className = `notification fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 ${
          type === "success"
            ? "bg-emerald-500 text-white"
            : type === "error"
            ? "bg-red-500 text-white"
            : "bg-blue-500 text-white"
        }`;
        notification.textContent = message;

        document.body.appendChild(notification);

        setTimeout(() => {
          notification.remove();
        }, 3000);
      }

      function formatDate(date) {
        return new Intl.DateTimeFormat("en-IN", {
          year: "numeric",
          month: "short",
          day: "numeric",
          hour: "2-digit",
          minute: "2-digit",
        }).format(new Date(date));
      }

      function formatCurrency(amount) {
        return new Intl.NumberFormat("en-IN", {
          style: "currency",
          currency: "INR",
        }).format(amount);
      }

      // Export functions for use in other pages
      window.AdminPanel = {
        showNotification,
        formatDate,
        formatCurrency,
        currentUser,
      };
    </script>
  </body>
</html>
