<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reports & Analytics - Shivam Electrical Admin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles.css" />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

      .font-inter {
        font-family: "Inter", sans-serif;
      }

      ::-webkit-scrollbar {
        width: 6px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f5f9;
      }
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 3px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }

      * {
        transition: all 0.2s ease;
      }

      .nav-item.active {
        background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
        color: white !important;
      }
      .nav-item.active i {
        color: white !important;
      }

      .btn-primary {
        background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        font-weight: 500;
        transition: all 0.3s ease;
      }
      .btn-primary:hover {
        transform: translateY(-1px);
        box-shadow: 0 5px 15px rgba(79, 70, 229, 0.3);
      }

      .chart-container {
        position: relative;
        height: 300px;
        width: 100%;
      }

      .metric-card {
        background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        border: 1px solid #e2e8f0;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .metric-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }
    </style>
  </head>
  <body class="bg-gray-50 font-inter">
    <!-- Sidebar -->
    <div
      id="sidebar"
      class="fixed left-0 top-0 w-64 h-full bg-white shadow-lg transform -translate-x-full lg:translate-x-0 transition-transform duration-300 z-50"
    >
      <div class="p-6 border-b border-gray-100">
        <div class="flex items-center space-x-3">
          <div
            class="w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center"
          >
            <i class="fas fa-bolt text-white"></i>
          </div>
          <div>
            <h1 class="text-lg font-bold text-gray-800">Shivam Electrical</h1>
            <p class="text-sm text-gray-500">Admin Panel</p>
          </div>
        </div>
      </div>

      <nav class="p-4 space-y-2">
        <div
          class="text-xs text-gray-400 font-semibold uppercase tracking-wider mb-3"
        >
          MAIN
        </div>

        <a
          href="index.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-tachometer-alt w-5"></i>
          <span>Dashboard</span>
        </a>

        <div
          class="text-xs text-gray-400 font-semibold uppercase tracking-wider mb-3 mt-6"
        >
          SERVICES
        </div>

        <a
          href="services.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-cogs w-5"></i>
          <span>Manage Services</span>
        </a>

        <a
          href="service-requests.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-clipboard-list w-5"></i>
          <span>Service Requests</span>
        </a>

        <a
          href="service-categories.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-tags w-5"></i>
          <span>Categories</span>
        </a>

        <div
          class="text-xs text-gray-400 font-semibold uppercase tracking-wider mb-3 mt-6"
        >
          CUSTOMERS
        </div>

        <a
          href="customers.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-users w-5"></i>
          <span>Customer List</span>
        </a>

        <a
          href="inquiries.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-envelope w-5"></i>
          <span>Inquiries</span>
        </a>

        <div
          class="text-xs text-gray-400 font-semibold uppercase tracking-wider mb-3 mt-6"
        >
          MANAGEMENT
        </div>

        <a
          href="technicians.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-user-cog w-5"></i>
          <span>Technicians</span>
        </a>

        <a
          href="cms.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-edit w-5"></i>
          <span>Content Management</span>
        </a>

        <a
          href="reports.html"
          class="nav-item active flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-chart-bar w-5"></i>
          <span>Reports & Analytics</span>
        </a>

        <a
          href="settings.html"
          class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors"
        >
          <i class="fas fa-cog w-5"></i>
          <span>Settings</span>
        </a>
      </nav>
    </div>

    <!-- Mobile Overlay -->
    <div
      id="overlay"
      class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden lg:hidden"
    ></div>

    <!-- Main Content -->
    <div class="lg:ml-64 min-h-screen">
      <!-- Top Header -->
      <header class="bg-white shadow-sm border-b border-gray-100 px-6 py-4">
        <div class="flex items-center justify-between">
          <div class="flex items-center space-x-4">
            <button
              id="menu-toggle"
              class="lg:hidden text-gray-600 hover:text-gray-800"
            >
              <i class="fas fa-bars text-xl"></i>
            </button>
            <div>
              <h2 class="text-2xl font-bold text-gray-800">
                Reports & Analytics
              </h2>
              <p class="text-gray-500">
                Comprehensive business insights and performance metrics
              </p>
            </div>
          </div>

          <div class="flex items-center space-x-4">
            <select
              class="px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
            >
              <option>Last 30 Days</option>
              <option>Last 7 Days</option>
              <option>Last 90 Days</option>
              <option>This Year</option>
              <option>Custom Range</option>
            </select>

            <button class="btn-primary" onclick="exportReport()">
              <i class="fas fa-download mr-2"></i>Export Report
            </button>

            <button class="p-2 text-gray-400 hover:text-gray-600 relative">
              <i class="fas fa-bell text-xl"></i>
              <span
                class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"
              ></span>
            </button>

            <div class="flex items-center space-x-3">
              <div class="text-right">
                <p class="text-sm font-medium text-gray-800">Admin User</p>
                <p class="text-xs text-gray-500">Super Admin</p>
              </div>
              <img
                src="https://images.pexels.com/photos/3785079/pexels-photo-3785079.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop"
                alt="Profile"
                class="w-10 h-10 rounded-full object-cover"
              />
            </div>
          </div>
        </div>
      </header>

      <!-- Content -->
      <main class="p-6">
        <!-- Key Metrics -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
          <div class="metric-card rounded-xl p-6">
            <div class="flex items-center justify-between mb-4">
              <div
                class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center"
              >
                <i class="fas fa-chart-line text-blue-600 text-xl"></i>
              </div>
              <span
                class="text-xs bg-emerald-100 text-emerald-600 px-2 py-1 rounded-full"
                >+12.5%</span
              >
            </div>
            <h3 class="text-2xl font-bold text-gray-800">₹2,45,680</h3>
            <p class="text-gray-600 text-sm mt-1">Total Revenue</p>
            <p class="text-xs text-gray-500 mt-2">vs. last month</p>
          </div>

          <div class="metric-card rounded-xl p-6">
            <div class="flex items-center justify-between mb-4">
              <div
                class="w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center"
              >
                <i class="fas fa-clipboard-check text-emerald-600 text-xl"></i>
              </div>
              <span
                class="text-xs bg-emerald-100 text-emerald-600 px-2 py-1 rounded-full"
                >+8.2%</span
              >
            </div>
            <h3 class="text-2xl font-bold text-gray-800">186</h3>
            <p class="text-gray-600 text-sm mt-1">Completed Jobs</p>
            <p class="text-xs text-gray-500 mt-2">vs. last month</p>
          </div>

          <div class="metric-card rounded-xl p-6">
            <div class="flex items-center justify-between mb-4">
              <div
                class="w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center"
              >
                <i class="fas fa-clock text-amber-600 text-xl"></i>
              </div>
              <span
                class="text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full"
                >-2.1%</span
              >
            </div>
            <h3 class="text-2xl font-bold text-gray-800">2.4 hrs</h3>
            <p class="text-gray-600 text-sm mt-1">Avg Response Time</p>
            <p class="text-xs text-gray-500 mt-2">vs. last month</p>
          </div>

          <div class="metric-card rounded-xl p-6">
            <div class="flex items-center justify-between mb-4">
              <div
                class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center"
              >
                <i class="fas fa-star text-purple-600 text-xl"></i>
              </div>
              <span
                class="text-xs bg-emerald-100 text-emerald-600 px-2 py-1 rounded-full"
                >+0.3</span
              >
            </div>
            <h3 class="text-2xl font-bold text-gray-800">4.8/5</h3>
            <p class="text-gray-600 text-sm mt-1">Customer Satisfaction</p>
            <p class="text-xs text-gray-500 mt-2">vs. last month</p>
          </div>
        </div>

        <!-- Charts Row -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
          <!-- Revenue Trend -->
          <div class="bg-white rounded-xl shadow-sm p-6">
            <div class="flex items-center justify-between mb-6">
              <div>
                <h3 class="text-lg font-semibold text-gray-800">
                  Revenue Trend
                </h3>
                <p class="text-gray-500 text-sm">
                  Monthly revenue over the last 12 months
                </p>
              </div>
              <div class="flex items-center space-x-2">
                <button
                  class="px-3 py-1 text-xs bg-blue-100 text-blue-600 rounded-md"
                >
                  Revenue
                </button>
                <button
                  class="px-3 py-1 text-xs text-gray-500 hover:bg-gray-100 rounded-md"
                >
                  Profit
                </button>
              </div>
            </div>
            <div class="chart-container">
              <canvas id="revenueChart"></canvas>
            </div>
          </div>

          <!-- Service Breakdown -->
          <div class="bg-white rounded-xl shadow-sm p-6">
            <div class="flex items-center justify-between mb-6">
              <div>
                <h3 class="text-lg font-semibold text-gray-800">
                  Service Breakdown
                </h3>
                <p class="text-gray-500 text-sm">
                  Distribution of service requests by type
                </p>
              </div>
            </div>
            <div class="chart-container">
              <canvas id="serviceChart"></canvas>
            </div>
          </div>
        </div>

        <!-- Performance Metrics -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
          <!-- Technician Performance -->
          <div class="bg-white rounded-xl shadow-sm p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-6">
              Top Performing Technicians
            </h3>

            <div class="space-y-4">
              <div
                class="flex items-center justify-between p-3 bg-gray-50 rounded-lg"
              >
                <div class="flex items-center space-x-3">
                  <img
                    src="https://images.pexels.com/photos/3785079/pexels-photo-3785079.jpeg?auto=compress&cs=tinysrgb&w=40&h=40&fit=crop"
                    alt="Technician"
                    class="w-10 h-10 rounded-full"
                  />
                  <div>
                    <p class="font-medium text-gray-800">Sunil Joshi</p>
                    <p class="text-sm text-gray-500">28 jobs completed</p>
                  </div>
                </div>
                <div class="text-right">
                  <p class="text-sm font-medium text-emerald-600">
                    98% Success
                  </p>
                  <div class="flex text-amber-400 text-xs">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                  </div>
                </div>
              </div>

              <div
                class="flex items-center justify-between p-3 bg-gray-50 rounded-lg"
              >
                <div class="flex items-center space-x-3">
                  <img
                    src="https://images.pexels.com/photos/3756679/pexels-photo-3756679.jpeg?auto=compress&cs=tinysrgb&w=40&h=40&fit=crop"
                    alt="Technician"
                    class="w-10 h-10 rounded-full"
                  />
                  <div>
                    <p class="font-medium text-gray-800">Rahul Sharma</p>
                    <p class="text-sm text-gray-500">24 jobs completed</p>
                  </div>
                </div>
                <div class="text-right">
                  <p class="text-sm font-medium text-emerald-600">
                    95% Success
                  </p>
                  <div class="flex text-amber-400 text-xs">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                  </div>
                </div>
              </div>

              <div
                class="flex items-center justify-between p-3 bg-gray-50 rounded-lg"
              >
                <div class="flex items-center space-x-3">
                  <img
                    src="https://images.pexels.com/photos/3748221/pexels-photo-3748221.jpeg?auto=compress&cs=tinysrgb&w=40&h=40&fit=crop"
                    alt="Technician"
                    class="w-10 h-10 rounded-full"
                  />
                  <div>
                    <p class="font-medium text-gray-800">Amit Kumar</p>
                    <p class="text-sm text-gray-500">22 jobs completed</p>
                  </div>
                </div>
                <div class="text-right">
                  <p class="text-sm font-medium text-emerald-600">
                    92% Success
                  </p>
                  <div class="flex text-amber-400 text-xs">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star-half-alt"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Monthly Goals -->
          <div class="bg-white rounded-xl shadow-sm p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-6">
              Monthly Goals Progress
            </h3>

            <div class="space-y-6">
              <div>
                <div class="flex items-center justify-between mb-2">
                  <span class="text-sm font-medium text-gray-700"
                    >Service Requests</span
                  >
                  <span class="text-sm text-gray-500">248/300</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3">
                  <div
                    class="bg-blue-600 h-3 rounded-full transition-all duration-500"
                    style="width: 83%"
                  ></div>
                </div>
                <p class="text-xs text-gray-500 mt-1">83% of monthly target</p>
              </div>

              <div>
                <div class="flex items-center justify-between mb-2">
                  <span class="text-sm font-medium text-gray-700"
                    >Revenue Target</span
                  >
                  <span class="text-sm text-gray-500">₹2,45,680/₹3,00,000</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3">
                  <div
                    class="bg-emerald-600 h-3 rounded-full transition-all duration-500"
                    style="width: 82%"
                  ></div>
                </div>
                <p class="text-xs text-gray-500 mt-1">82% of monthly target</p>
              </div>

              <div>
                <div class="flex items-center justify-between mb-2">
                  <span class="text-sm font-medium text-gray-700"
                    >Customer Satisfaction</span
                  >
                  <span class="text-sm text-gray-500">4.8/5.0</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3">
                  <div
                    class="bg-amber-500 h-3 rounded-full transition-all duration-500"
                    style="width: 96%"
                  ></div>
                </div>
                <p class="text-xs text-gray-500 mt-1">
                  96% of satisfaction target
                </p>
              </div>

              <div>
                <div class="flex items-center justify-between mb-2">
                  <span class="text-sm font-medium text-gray-700"
                    >New Customers</span
                  >
                  <span class="text-sm text-gray-500">15/20</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3">
                  <div
                    class="bg-purple-600 h-3 rounded-full transition-all duration-500"
                    style="width: 75%"
                  ></div>
                </div>
                <p class="text-xs text-gray-500 mt-1">75% of monthly target</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Detailed Reports -->
        <div class="bg-white rounded-xl shadow-sm p-6">
          <div class="flex items-center justify-between mb-6">
            <h3 class="text-lg font-semibold text-gray-800">
              Recent Activity Report
            </h3>
            <button
              class="text-blue-600 hover:text-blue-800 text-sm font-medium"
            >
              View Full Report <i class="fas fa-arrow-right ml-1"></i>
            </button>
          </div>

          <div class="overflow-x-auto">
            <table class="w-full">
              <thead>
                <tr class="border-b border-gray-100">
                  <th
                    class="text-left py-3 text-xs font-medium text-gray-500 uppercase"
                  >
                    Date
                  </th>
                  <th
                    class="text-left py-3 text-xs font-medium text-gray-500 uppercase"
                  >
                    Service Type
                  </th>
                  <th
                    class="text-left py-3 text-xs font-medium text-gray-500 uppercase"
                  >
                    Customer
                  </th>
                  <th
                    class="text-left py-3 text-xs font-medium text-gray-500 uppercase"
                  >
                    Technician
                  </th>
                  <th
                    class="text-left py-3 text-xs font-medium text-gray-500 uppercase"
                  >
                    Status
                  </th>
                  <th
                    class="text-right py-3 text-xs font-medium text-gray-500 uppercase"
                  >
                    Revenue
                  </th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-100">
                <tr>
                  <td class="py-3 text-sm text-gray-600">Mar 15, 2024</td>
                  <td class="py-3 text-sm text-gray-800">Motor Repair</td>
                  <td class="py-3 text-sm text-gray-800">Rajesh Kumar</td>
                  <td class="py-3 text-sm text-gray-800">Sunil Joshi</td>
                  <td class="py-3">
                    <span
                      class="px-2 py-1 bg-emerald-100 text-emerald-600 text-xs rounded-full"
                      >Completed</span
                    >
                  </td>
                  <td class="py-3 text-right text-sm font-medium text-gray-800">
                    ₹8,500
                  </td>
                </tr>
                <tr>
                  <td class="py-3 text-sm text-gray-600">Mar 14, 2024</td>
                  <td class="py-3 text-sm text-gray-800">
                    Transformer Service
                  </td>
                  <td class="py-3 text-sm text-gray-800">Amit Industries</td>
                  <td class="py-3 text-sm text-gray-800">Vikram Singh</td>
                  <td class="py-3">
                    <span
                      class="px-2 py-1 bg-blue-100 text-blue-600 text-xs rounded-full"
                      >In Progress</span
                    >
                  </td>
                  <td class="py-3 text-right text-sm font-medium text-gray-800">
                    ₹15,000
                  </td>
                </tr>
                <tr>
                  <td class="py-3 text-sm text-gray-600">Mar 13, 2024</td>
                  <td class="py-3 text-sm text-gray-800">Compressor Repair</td>
                  <td class="py-3 text-sm text-gray-800">Singh Engineering</td>
                  <td class="py-3 text-sm text-gray-800">Rahul Sharma</td>
                  <td class="py-3">
                    <span
                      class="px-2 py-1 bg-emerald-100 text-emerald-600 text-xs rounded-full"
                      >Completed</span
                    >
                  </td>
                  <td class="py-3 text-right text-sm font-medium text-gray-800">
                    ₹6,200
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </main>
    </div>

    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script>
      // Chart initialization
      document.addEventListener("DOMContentLoaded", function () {
        try {
          initializeSidebar();
          initializeCharts();
        } catch (error) {
          console.error("Error in DOMContentLoaded handler:", error);
        }
      });

      function initializeSidebar() {
        // Placeholder for sidebar logic; replace with actual implementation if needed
        const sidebar = document.getElementById("sidebar");
        const menuToggle = document.getElementById("menu-toggle");
        const overlay = document.getElementById("overlay");

        if (menuToggle && sidebar && overlay) {
          menuToggle.addEventListener("click", () => {
            sidebar.classList.toggle("-translate-x-full");
            overlay.classList.toggle("hidden");
          });
          overlay.addEventListener("click", () => {
            sidebar.classList.add("-translate-x-full");
            overlay.classList.add("hidden");
          });
        } else {
          console.warn(
            "Sidebar elements not found; skipping sidebar initialization"
          );
        }
      }

      function initializeCharts() {
        if (typeof Chart === "undefined") {
          console.error(
            "Chart.js is not loaded. Please check the CDN or script inclusion."
          );
          return;
        }

        // Revenue Chart
        const revenueCtx = document.getElementById("revenueChart");
        if (revenueCtx) {
          try {
            new Chart(revenueCtx, {
              type: "line",
              data: {
                labels: [
                  "Jan",
                  "Feb",
                  "Mar",
                  "Apr",
                  "May",
                  "Jun",
                  "Jul",
                  "Aug",
                  "Sep",
                  "Oct",
                  "Nov",
                  "Dec",
                ],
                datasets: [
                  {
                    label: "Revenue (₹)",
                    data: [
                      180000, 195000, 210000, 185000, 220000, 240000, 235000,
                      245000, 260000, 250000, 245680, 270000,
                    ],
                    borderColor: "#4f46e5",
                    backgroundColor: "rgba(79, 70, 229, 0.1)",
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4,
                    pointBackgroundColor: "#4f46e5",
                    pointBorderColor: "#ffffff",
                    pointBorderWidth: 2,
                    pointRadius: 6,
                    pointHoverRadius: 8,
                  },
                ],
              },
              options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                  legend: { display: false },
                },
                scales: {
                  y: {
                    beginAtZero: true,
                    grid: { color: "#f1f5f9" },
                    ticks: {
                      color: "#64748b",
                      callback: function (value) {
                        return "₹" + value / 1000 + "K";
                      },
                    },
                  },
                  x: {
                    grid: { display: false },
                    ticks: { color: "#64748b" },
                  },
                },
              },
            });
            console.log("Revenue chart initialized successfully");
          } catch (error) {
            console.error("Error initializing revenue chart:", error);
          }
        } else {
          console.error("Canvas element with ID 'revenueChart' not found");
        }

        // Service Breakdown Chart
        const serviceCtx = document.getElementById("serviceChart");
        if (serviceCtx) {
          try {
            new Chart(serviceCtx, {
              type: "doughnut",
              data: {
                labels: [
                  "Motor Repair",
                  "Transformer Service",
                  "Compressor Repair",
                  "Electrical Installation",
                  "Maintenance",
                ],
                datasets: [
                  {
                    data: [45, 25, 15, 10, 5],
                    backgroundColor: [
                      "#4f46e5",
                      "#10b981",
                      "#f59e0b",
                      "#ef4444",
                      "#8b5cf6",
                    ],
                    borderWidth: 2,
                    borderColor: "#ffffff",
                  },
                ],
              },
              options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                  legend: {
                    position: "bottom",
                    labels: {
                      padding: 20,
                      usePointStyle: true,
                    },
                  },
                },
              },
            });
            console.log("Service chart initialized successfully");
          } catch (error) {
            console.error("Error initializing service chart:", error);
          }
        } else {
          console.error("Canvas element with ID 'serviceChart' not found");
        }
      }

      function exportReport() {
        showNotification("Report exported successfully!", "success");
      }

      function showNotification(message, type = "success") {
        const notification = document.createElement("div");
        notification.className = `notification fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 ${
          type === "success"
            ? "bg-emerald-500 text-white"
            : type === "error"
            ? "bg-red-500 text-white"
            : "bg-blue-500 text-white"
        }`;
        notification.textContent = message;

        document.body.appendChild(notification);

        setTimeout(() => {
          notification.remove();
        }, 3000);
      }
    </script>
  </body>
</html>
